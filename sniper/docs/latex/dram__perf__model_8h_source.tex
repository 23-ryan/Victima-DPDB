\doxysection{dram\+\_\+perf\+\_\+model.\+h}
\label{dram__perf__model_8h_source}\index{common/performance\_model/dram\_perf\_model.h@{common/performance\_model/dram\_perf\_model.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ \_\_DRAM\_PERF\_MODEL\_H\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ \_\_DRAM\_PERF\_MODEL\_H\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}queue\_model.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}fixed\_types.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}subsecond\_time.h"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}dram\_cntlr\_interface.h"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}address\_home\_lookup.h"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }ShmemPerf;}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{comment}{//\ Note:\ Each\ Dram\ Controller\ owns\ a\ single\ DramModel\ object}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ Hence,\ m\_dram\_bandwidth\ is\ the\ bandwidth\ for\ a\ single\ DRAM\ controller}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ Total\ Bandwidth\ =\ m\_dram\_bandwidth\ *\ Number\ of\ DRAM\ controllers}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Number\ of\ DRAM\ controllers\ presently\ =\ Number\ of\ Cores}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ m\_dram\_bandwidth\ is\ expressed\ in\ GB/s}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ Assuming\ the\ frequency\ of\ a\ core\ is\ 1GHz,}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ m\_dram\_bandwidth\ is\ also\ expressed\ in\ 'Bytes\ per\ clock\ cycle'}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ This\ DRAM\ model\ is\ not\ entirely\ correct.}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ It\ sort\ of\ increases\ the\ queueing\ delay\ to\ a\ huge\ value\ if}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ the\ arrival\ times\ of\ adjacent\ packets\ are\ spread\ over\ a\ large}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ simulated\ time\ period}}
\DoxyCodeLine{00023\ \textcolor{keyword}{class\ }DramPerfModel}
\DoxyCodeLine{00024\ \{}
\DoxyCodeLine{00025\ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_enabled;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ UInt64\ m\_num\_accesses;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \textcolor{keyword}{static}\ DramPerfModel*\ createDramPerfModel(core\_id\_t\ core\_id,\ UInt32\ cache\_block\_size,AddressHomeLookup*\ address\_home\_lookup);}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ DramPerfModel(core\_id\_t\ core\_id,\ UInt64\ cache\_block\_size)\ :\ m\_enabled(false),\ m\_num\_accesses(0)\ \{\}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \string~DramPerfModel()\ \{\}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ SubsecondTime\ getAccessLatency(SubsecondTime\ pkt\_time,\ UInt64\ pkt\_size,\ core\_id\_t\ requester,\ IntPtr\ address,\ DramCntlrInterface::access\_t\ access\_type,\ ShmemPerf\ *perf,\textcolor{keywordtype}{bool}\ is\_metadata)\ =\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ enable()\ \{\ m\_enabled\ =\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ disable()\ \{\ m\_enabled\ =\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ UInt64\ getTotalAccesses()\ \{\ \textcolor{keywordflow}{return}\ m\_num\_accesses;\ \}}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_DRAM\_PERF\_MODEL\_H\_\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
