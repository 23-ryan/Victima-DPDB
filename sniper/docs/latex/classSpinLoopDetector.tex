\doxysection{Spin\+Loop\+Detector Class Reference}
\label{classSpinLoopDetector}\index{SpinLoopDetector@{SpinLoopDetector}}


{\ttfamily \#include $<$spin\+\_\+loop\+\_\+detector.\+h$>$}



Collaboration diagram for Spin\+Loop\+Detector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSpinLoopDetector__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ Sdt\+Entry}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Spin\+Loop\+Detector} (\textbf{ Thread} $\ast$thread)
\item 
void \textbf{ commit\+BCT} (\textbf{ uint64\+\_\+t} eip)
\item 
void \textbf{ commit\+Non\+Silent\+Store} ()
\item 
void \textbf{ commit\+Register\+Write} (\textbf{ reg\+\_\+t} reg, \textbf{ uint64\+\_\+t} old\+\_\+value, \textbf{ uint64\+\_\+t} value)
\item 
bool \textbf{ in\+Candidate\+Spin} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef uint16\+\_\+t \textbf{ reg\+\_\+t}
\item 
typedef std\+::pair$<$ \textbf{ uint64\+\_\+t}, uint16\+\_\+t $>$ \textbf{ Rub\+Entry}
\item 
typedef std\+::unordered\+\_\+map$<$ \textbf{ reg\+\_\+t}, \textbf{ Rub\+Entry} $>$ \textbf{ Rub}
\item 
typedef std\+::deque$<$ \textbf{ Sdt\+Entry} $>$ \textbf{ Sdt}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \textbf{ Thread} $\ast$ \textbf{ m\+\_\+thread}
\item 
\textbf{ Rub} \textbf{ m\+\_\+rub}
\item 
\textbf{ Sdt} \textbf{ m\+\_\+sdt}
\item 
uint16\+\_\+t \textbf{ m\+\_\+sdt\+\_\+bitmask}
\item 
uint8\+\_\+t \textbf{ m\+\_\+sdt\+\_\+nextid}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \textbf{ SDT\+\_\+\+MAX\+\_\+\+SIZE} = 16
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \textbf{ 10} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



\doxysubsection{Member Typedef Documentation}
\index{SpinLoopDetector@{SpinLoopDetector}!reg\_t@{reg\_t}}
\index{reg\_t@{reg\_t}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{reg\_t}
{\footnotesize\ttfamily \label{classSpinLoopDetector_aba24cc914b05464c0287dd98b50c48c3} 
uint16\+\_\+t \textbf{ Spin\+Loop\+Detector\+::reg\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 14} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.

\index{SpinLoopDetector@{SpinLoopDetector}!Rub@{Rub}}
\index{Rub@{Rub}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{Rub}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a155ce129268ffe6ced05cafa585d74bf} 
std\+::unordered\+\_\+map$<$\textbf{ reg\+\_\+t}, \textbf{ Rub\+Entry}$>$ \textbf{ Spin\+Loop\+Detector\+::\+Rub}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 16} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.

\index{SpinLoopDetector@{SpinLoopDetector}!RubEntry@{RubEntry}}
\index{RubEntry@{RubEntry}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{RubEntry}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a287c5650aa03c49ca9086f5144c8e67e} 
std\+::pair$<$\textbf{ uint64\+\_\+t}, uint16\+\_\+t$>$ \textbf{ Spin\+Loop\+Detector\+::\+Rub\+Entry}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 15} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.

\index{SpinLoopDetector@{SpinLoopDetector}!Sdt@{Sdt}}
\index{Sdt@{Sdt}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{Sdt}
{\footnotesize\ttfamily \label{classSpinLoopDetector_af7b9fc0b53e9d15eb44517526802105f} 
std\+::deque$<$\textbf{ Sdt\+Entry}$>$ \textbf{ Spin\+Loop\+Detector\+::\+Sdt}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 26} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



\doxysubsection{Constructor \& Destructor Documentation}
\index{SpinLoopDetector@{SpinLoopDetector}!SpinLoopDetector@{SpinLoopDetector}}
\index{SpinLoopDetector@{SpinLoopDetector}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{SpinLoopDetector()}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a90988b3cfc49b046e7e7066725bf6e77} 
Spin\+Loop\+Detector\+::\+Spin\+Loop\+Detector (\begin{DoxyParamCaption}\item[{\textbf{ Thread} $\ast$}]{thread}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \textbf{ 35} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



\doxysubsection{Member Function Documentation}
\index{SpinLoopDetector@{SpinLoopDetector}!commitBCT@{commitBCT}}
\index{commitBCT@{commitBCT}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{commitBCT()}
{\footnotesize\ttfamily \label{classSpinLoopDetector_afdae66c032d17e337c7f8b325f1ca873} 
void Spin\+Loop\+Detector\+::commit\+BCT (\begin{DoxyParamCaption}\item[{\textbf{ uint64\+\_\+t}}]{eip}{}\end{DoxyParamCaption})}



Definition at line \textbf{ 10} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+cc}.



References \textbf{ Thread\+::get\+Core()}, \textbf{ Performance\+Model\+::get\+Elapsed\+Time()}, \textbf{ Core\+::get\+Instruction\+Count()}, \textbf{ Core\+::get\+Performance\+Model()}, \textbf{ m\+\_\+rub}, \textbf{ m\+\_\+sdt}, \textbf{ m\+\_\+sdt\+\_\+bitmask}, \textbf{ m\+\_\+sdt\+\_\+nextid}, \textbf{ m\+\_\+thread}, \textbf{ SDT\+\_\+\+MAX\+\_\+\+SIZE}, and \textbf{ Core\+::update\+Spin\+Count()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSpinLoopDetector_afdae66c032d17e337c7f8b325f1ca873_cgraph}
\end{center}
\end{figure}
\index{SpinLoopDetector@{SpinLoopDetector}!commitNonSilentStore@{commitNonSilentStore}}
\index{commitNonSilentStore@{commitNonSilentStore}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{commitNonSilentStore()}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a14c441ab0796a56ef323a9ab2df6f408} 
void Spin\+Loop\+Detector\+::commit\+Non\+Silent\+Store (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \textbf{ 77} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+cc}.



References \textbf{ m\+\_\+rub}, and \textbf{ m\+\_\+sdt}.

\index{SpinLoopDetector@{SpinLoopDetector}!commitRegisterWrite@{commitRegisterWrite}}
\index{commitRegisterWrite@{commitRegisterWrite}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{commitRegisterWrite()}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a9fcc44adfad1c6d94c6592ebe1bbc166} 
void Spin\+Loop\+Detector\+::commit\+Register\+Write (\begin{DoxyParamCaption}\item[{\textbf{ reg\+\_\+t}}]{reg}{, }\item[{\textbf{ uint64\+\_\+t}}]{old\+\_\+value}{, }\item[{\textbf{ uint64\+\_\+t}}]{value}{}\end{DoxyParamCaption})}



Definition at line \textbf{ 84} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+cc}.



References \textbf{ m\+\_\+rub}, and \textbf{ m\+\_\+sdt\+\_\+bitmask}.

\index{SpinLoopDetector@{SpinLoopDetector}!inCandidateSpin@{inCandidateSpin}}
\index{inCandidateSpin@{inCandidateSpin}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{inCandidateSpin()}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a538bfabe6d65e483480dc8781ec55bc8} 
bool Spin\+Loop\+Detector\+::in\+Candidate\+Spin (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \textbf{ 41} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



References \textbf{ m\+\_\+sdt}.



\doxysubsection{Member Data Documentation}
\index{SpinLoopDetector@{SpinLoopDetector}!m\_rub@{m\_rub}}
\index{m\_rub@{m\_rub}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{m\_rub}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a887d0aa5d23e25284a37a10d34772a14} 
\textbf{ Rub} Spin\+Loop\+Detector\+::m\+\_\+rub\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 29} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}, \textbf{ commit\+Non\+Silent\+Store()}, and \textbf{ commit\+Register\+Write()}.

\index{SpinLoopDetector@{SpinLoopDetector}!m\_sdt@{m\_sdt}}
\index{m\_sdt@{m\_sdt}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{m\_sdt}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a1e33b28975b19293392d4a0808b06981} 
\textbf{ Sdt} Spin\+Loop\+Detector\+::m\+\_\+sdt\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 30} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}, \textbf{ commit\+Non\+Silent\+Store()}, and \textbf{ in\+Candidate\+Spin()}.

\index{SpinLoopDetector@{SpinLoopDetector}!m\_sdt\_bitmask@{m\_sdt\_bitmask}}
\index{m\_sdt\_bitmask@{m\_sdt\_bitmask}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{m\_sdt\_bitmask}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a63b20c33b0a4afc090f9a0b91aa14d65} 
uint16\+\_\+t Spin\+Loop\+Detector\+::m\+\_\+sdt\+\_\+bitmask\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 31} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}, and \textbf{ commit\+Register\+Write()}.

\index{SpinLoopDetector@{SpinLoopDetector}!m\_sdt\_nextid@{m\_sdt\_nextid}}
\index{m\_sdt\_nextid@{m\_sdt\_nextid}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{m\_sdt\_nextid}
{\footnotesize\ttfamily \label{classSpinLoopDetector_ae957af8fcef49ef4cd4501b1dc13eedb} 
uint8\+\_\+t Spin\+Loop\+Detector\+::m\+\_\+sdt\+\_\+nextid\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 32} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}.

\index{SpinLoopDetector@{SpinLoopDetector}!m\_thread@{m\_thread}}
\index{m\_thread@{m\_thread}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{m\_thread}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a9b0d7e280254b9dba62ad83571b09202} 
const \textbf{ Thread}$\ast$ Spin\+Loop\+Detector\+::m\+\_\+thread\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \textbf{ 28} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}.

\index{SpinLoopDetector@{SpinLoopDetector}!SDT\_MAX\_SIZE@{SDT\_MAX\_SIZE}}
\index{SDT\_MAX\_SIZE@{SDT\_MAX\_SIZE}!SpinLoopDetector@{SpinLoopDetector}}
\doxysubsubsection{SDT\_MAX\_SIZE}
{\footnotesize\ttfamily \label{classSpinLoopDetector_a1230b777e72f8cf12ccbb75b70106c5f} 
const size\+\_\+t Spin\+Loop\+Detector\+::\+SDT\+\_\+\+MAX\+\_\+\+SIZE = 16\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \textbf{ 13} of file \textbf{ spin\+\_\+loop\+\_\+detector.\+h}.



Referenced by \textbf{ commit\+BCT()}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
common/misc/\textbf{ spin\+\_\+loop\+\_\+detector.\+h}\item 
common/misc/\textbf{ spin\+\_\+loop\+\_\+detector.\+cc}\end{DoxyCompactItemize}
